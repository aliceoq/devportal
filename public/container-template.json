{
  "exportFormatVersion": 2,
  "exportTime": "2023-03-28 23:50:00",
  "containerVersion": {
    "path": "accounts/6004415179/containers/48662484/versions/0",
    "accountId": "6004415179",
    "containerId": "48662484",
    "containerVersionId": "0",
    "container": {
      "path": "accounts/6004415179/containers/48662484",
      "accountId": "6004415179",
      "containerId": "48662484",
      "name": "storecomponents.myvtex.com",
      "publicId": "GTM-TX7J9RB",
      "usageContext": [
        "WEB"
      ],
      "fingerprint": "1626710113785",
      "tagManagerUrl": "https://tagmanager.google.com/#/container/accounts/6004415179/containers/48662484/workspaces?apiLink=container",
      "features": {
        "supportUserPermissions": true,
        "supportEnvironments": true,
        "supportWorkspaces": true,
        "supportGtagConfigs": false,
        "supportBuiltInVariables": true,
        "supportClients": false,
        "supportFolders": true,
        "supportTags": true,
        "supportTemplates": true,
        "supportTriggers": true,
        "supportVariables": true,
        "supportVersions": true,
        "supportZones": true
      },
      "tagIds": [
        "GTM-TX7J9RB"
      ]
    },
    "tag": [
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "14",
        "name": "Google Ads Conversion Tracking",
        "type": "awct",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableConversionLinker",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "orderId",
            "value": "{{Data Layer Variable - transactionId}}"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionValue",
            "value": "{{Data Layer Variable - transactionTotal}}"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionCookiePrefix",
            "value": "_gcl"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionId",
            "value": "726872003"
          },
          {
            "type": "TEMPLATE",
            "key": "currencyCode",
            "value": "{{Data Layer Variable - currency}}"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionLabel",
            "value": "qjxDCMmoqaUBEMPfzNoC"
          }
        ],
        "fingerprint": "1626710136452",
        "firingTriggerId": [
          "10"
        ],
        "tagFiringOption": "ONCE_PER_EVENT",
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "28",
        "name": "Google Analytics - Page view Purchase",
        "type": "ua",
        "priority": {
          "type": "INTEGER",
          "value": "99"
        },
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "true"
          },
          {
            "type": "BOOLEAN",
            "key": "useEcommerceDataLayer",
            "value": "true"
          },
          {
            "type": "LIST",
            "key": "fieldsToSet",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "page"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/orderPlaced"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "title"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "Purchase"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_PAGEVIEW"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics - Checkout and Order Placed}}"
          },
          {
            "type": "BOOLEAN",
            "key": "enableEcommerce",
            "value": "true"
          }
        ],
        "fingerprint": "1633555001521",
        "firingTriggerId": [
          "10"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "31",
        "name": "VTEX Adwords Conversion Linker",
        "type": "gclidw",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableCrossDomain",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableCookieOverrides",
            "value": "false"
          }
        ],
        "fingerprint": "1626710136458",
        "firingTriggerId": [
          "2147479553"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "36",
        "name": "Google Analytics - Checkout and Order Placed",
        "type": "ua",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "nonInteraction",
            "value": "true"
          },
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "eventCategory",
            "value": "Ecommerce"
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_EVENT"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics - Checkout and Order Placed}}"
          },
          {
            "type": "TEMPLATE",
            "key": "eventAction",
            "value": "{{Checkout Step}}"
          },
          {
            "type": "TEMPLATE",
            "key": "eventLabel",
            "value": "{{Event}}"
          }
        ],
        "fingerprint": "1643310094571",
        "firingTriggerId": [
          "34",
          "33",
          "4",
          "35",
          "32"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "40",
        "name": "Google Analytics - Add to cart VPV",
        "type": "ua",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "true"
          },
          {
            "type": "LIST",
            "key": "fieldsToSet",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "page"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/VPV_add_to_cart"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "title"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "VPV Add to cart"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_PAGEVIEW"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics}}"
          },
          {
            "type": "BOOLEAN",
            "key": "enableEcommerce",
            "value": "false"
          }
        ],
        "fingerprint": "1633554929027",
        "firingTriggerId": [
          "21"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "45",
        "name": "Google Analytics - remove from cart VPV",
        "type": "ua",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "true"
          },
          {
            "type": "LIST",
            "key": "fieldsToSet",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "page"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/VPV_remove_from_cart"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "title"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "VPV Remove from cart"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_PAGEVIEW"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics}}"
          },
          {
            "type": "BOOLEAN",
            "key": "enableEcommerce",
            "value": "false"
          }
        ],
        "fingerprint": "1633555036652",
        "firingTriggerId": [
          "44"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "51",
        "name": "Google Analytics - Page View",
        "type": "ua",
        "priority": {
          "type": "INTEGER",
          "value": "99"
        },
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "true"
          },
          {
            "type": "LIST",
            "key": "fieldsToSet",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "title"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{title}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_PAGEVIEW"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics}}"
          },
          {
            "type": "BOOLEAN",
            "key": "enableEcommerce",
            "value": "false"
          }
        ],
        "fingerprint": "1633554955851",
        "firingTriggerId": [
          "49"
        ],
        "blockingTriggerId": [
          "48",
          "46"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "54",
        "name": "Conversion Linker",
        "type": "gclidw",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableCrossDomain",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableCookieOverrides",
            "value": "false"
          }
        ],
        "fingerprint": "1626710136464",
        "firingTriggerId": [
          "2147479553"
        ],
        "tagFiringOption": "ONCE_PER_EVENT",
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "55",
        "name": "Google Analytics - Enhanced Ecommerce - No Interaction",
        "type": "ua",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "nonInteraction",
            "value": "true"
          },
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "eventCategory",
            "value": "Ecommerce"
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_EVENT"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics}}"
          },
          {
            "type": "TEMPLATE",
            "key": "eventAction",
            "value": "{{Event}}"
          }
        ],
        "fingerprint": "1626710136465",
        "firingTriggerId": [
          "22",
          "52",
          "30",
          "44",
          "21"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "59",
        "name": "Google Ads Remarketing",
        "type": "sp",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableDynamicRemarketing",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionId",
            "value": "1070427074"
          },
          {
            "type": "TEMPLATE",
            "key": "customParamsFormat",
            "value": "NONE"
          },
          {
            "type": "TEMPLATE",
            "key": "userId",
            "value": "{{Analytics Tracking ID}}"
          },
          {
            "type": "BOOLEAN",
            "key": "rdp",
            "value": "false"
          }
        ],
        "fingerprint": "1626710136466",
        "firingTriggerId": [
          "2147479553"
        ],
        "tagFiringOption": "ONCE_PER_EVENT",
        "paused": true,
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "61",
        "name": "Google Analytics - Page View - Cart, Checkout Pages",
        "type": "ua",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "true"
          },
          {
            "type": "LIST",
            "key": "fieldsToSet",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "page"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{PageName by step}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "title"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{PageTitle by step}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_PAGEVIEW"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics}}"
          },
          {
            "type": "BOOLEAN",
            "key": "enableEcommerce",
            "value": "false"
          }
        ],
        "fingerprint": "1633554977549",
        "firingTriggerId": [
          "34",
          "33",
          "35",
          "32",
          "4"
        ],
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "63",
        "name": "VTEX Adwords Conversion",
        "type": "awct",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableConversionLinker",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "orderId",
            "value": "{{VTEX transactionID}}"
          },
          {
            "type": "BOOLEAN",
            "key": "enableProductReporting",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionValue",
            "value": "{{VTEX Transaction Total}}"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionCookiePrefix",
            "value": "_gcl"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionId",
            "value": "1070427074"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionLabel",
            "value": "naNnCL-bic8BEMLXtf4D"
          },
          {
            "type": "BOOLEAN",
            "key": "rdp",
            "value": "false"
          }
        ],
        "fingerprint": "1626710136468",
        "firingTriggerId": [
          "10"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "64",
        "name": "Accessibe",
        "type": "html",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "html",
            "value": "<script>(function(){ var s = document.createElement('script'), e = ! document.body ? document.querySelector('head') : document.body; s.src = 'https://acsbap.com/apps/app/assets/js/acsb.js'; s.async = s.defer = true; s.onload = function(){ acsbJS.init({ statementLink : '', feedbackLink : '', footerHtml : '', hideMobile : false, hideTrigger : false, language : 'en', position : 'right', leadColor : '#146FF8', triggerColor : '#146FF8', triggerRadius : '50%', triggerPositionX : 'right', triggerPositionY : 'bottom', triggerIcon : 'default', triggerSize : 'medium', triggerOffsetX : 20, triggerOffsetY : 20, mobile : { triggerSize : 'small', triggerPositionX : 'right', triggerPositionY : 'center', triggerOffsetX : 0, triggerOffsetY : 0, triggerRadius : '50%' } }); }; e.appendChild(s);}());</script>"
          },
          {
            "type": "BOOLEAN",
            "key": "supportDocumentWrite",
            "value": "false"
          }
        ],
        "fingerprint": "1626710136470",
        "firingTriggerId": [
          "2147479553"
        ],
        "tagFiringOption": "ONCE_PER_EVENT",
        "paused": true,
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "65",
        "name": "Google Analytics - Page View Search",
        "type": "ua",
        "priority": {
          "type": "INTEGER",
          "value": "99"
        },
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "true"
          },
          {
            "type": "LIST",
            "key": "fieldsToSet",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "page"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/search?q={{Search Query}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "title"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{title}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_PAGEVIEW"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics}}"
          },
          {
            "type": "BOOLEAN",
            "key": "enableEcommerce",
            "value": "false"
          }
        ],
        "fingerprint": "1633555019609",
        "firingTriggerId": [
          "48"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "68",
        "name": "Google Optimize",
        "type": "opt",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "optimizeContainerId",
            "value": "OPT-PF6F826"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics}}"
          }
        ],
        "fingerprint": "1626710136469",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "69",
        "name": "Imagem personalizada",
        "type": "img",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "useCacheBuster",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "url",
            "value": "https://via.placeholder.com/150?v={{Random number}}"
          },
          {
            "type": "TEMPLATE",
            "key": "cacheBusterQueryParam",
            "value": "gtmcb"
          }
        ],
        "fingerprint": "1626710136469",
        "firingTriggerId": [
          "2147479553"
        ],
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "70",
        "name": "Google Analytics PageView - MiniCart",
        "type": "ua",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "true"
          },
          {
            "type": "LIST",
            "key": "fieldsToSet",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "page"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/VPV_MiniCart"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "title"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "VPV MiniCart"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_PAGEVIEW"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics}}"
          },
          {
            "type": "BOOLEAN",
            "key": "enableEcommerce",
            "value": "false"
          }
        ],
        "fingerprint": "1633555044687",
        "firingTriggerId": [
          "15"
        ],
        "tagFiringOption": "UNLIMITED",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "71",
        "name": "Custom Script",
        "type": "html",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "html",
            "value": "<script>\n  console.log('test blocking custom scripts')\n  document.write('HACKERANDO')\n</script>"
          },
          {
            "type": "BOOLEAN",
            "key": "supportDocumentWrite",
            "value": "true"
          }
        ],
        "fingerprint": "1626710136471",
        "firingTriggerId": [
          "2147479553"
        ],
        "tagFiringOption": "ONCE_PER_EVENT",
        "paused": true,
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "tagId": "79",
        "name": "Google Analytics - Enhanced Ecommerce - Yes Interaction",
        "type": "ua",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "nonInteraction",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "overrideGaSettings",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "eventCategory",
            "value": "Ecommerce"
          },
          {
            "type": "TEMPLATE",
            "key": "trackType",
            "value": "TRACK_EVENT"
          },
          {
            "type": "TEMPLATE",
            "key": "gaSettings",
            "value": "{{Google Analytics}}"
          },
          {
            "type": "TEMPLATE",
            "key": "eventAction",
            "value": "Event"
          }
        ],
        "fingerprint": "1642019592410",
        "firingTriggerId": [
          "21",
          "44",
          "30",
          "16"
        ],
        "parentFolderId": "24",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      }
    ],
    "trigger": [
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "4",
        "name": "Custom Event - payment",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "payment"
              }
            ]
          }
        ],
        "fingerprint": "1626710136449",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "7",
        "name": "Custom Event - All Pages",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "MATCH_REGEX",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "(^pageView$|^cart$|^email$|^profile$|^shipping$|^payment$)"
              }
            ]
          }
        ],
        "fingerprint": "1626710136450"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "10",
        "name": "Custom Event - orderPlaced",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "orderPlaced"
              }
            ]
          }
        ],
        "fingerprint": "1626710136451",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "15",
        "name": "MiniCart Click",
        "type": "CLICK",
        "filter": [
          {
            "type": "GREATER_OR_EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Click Text}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "1"
              }
            ]
          }
        ],
        "fingerprint": "1626710136453"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "16",
        "name": "Custom Event - promotionClick",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "promotionClick"
              }
            ]
          }
        ],
        "fingerprint": "1626710136453"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "18",
        "name": "Custom Event - pageView",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "pageView"
              }
            ]
          }
        ],
        "fingerprint": "1626710136453"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "21",
        "name": "Custom Event - addToCart",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "addToCart"
              }
            ]
          }
        ],
        "fingerprint": "1626710136454",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "22",
        "name": "Custom Event - productDetail",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "productDetail"
              }
            ]
          }
        ],
        "fingerprint": "1626710136455",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "30",
        "name": "Custom Event - productClick",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "productClick"
              }
            ]
          }
        ],
        "fingerprint": "1626710136457"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "32",
        "name": "Custom Event - shipping",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "shipping"
              }
            ]
          }
        ],
        "fingerprint": "1626710136458",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "33",
        "name": "Custom Event - email",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "email"
              }
            ]
          }
        ],
        "fingerprint": "1626710136458",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "34",
        "name": "Custom Event - cart",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "cart"
              }
            ]
          }
        ],
        "fingerprint": "1626710136459",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "35",
        "name": "Custom Event - profile",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "profile"
              }
            ]
          }
        ],
        "fingerprint": "1626710136459",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "38",
        "name": "History Change",
        "type": "HISTORY_CHANGE",
        "fingerprint": "1626710136460"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "41",
        "name": "OrderPlaced Pageview",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "pageView"
              }
            ]
          }
        ],
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Page URL}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "orderPlaced"
              }
            ]
          }
        ],
        "fingerprint": "1626710136461"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "42",
        "name": "Custom Event - PageView",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "pageView"
              }
            ]
          }
        ],
        "filter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "pageView"
              }
            ]
          }
        ],
        "fingerprint": "1626710136461",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "44",
        "name": "Custom Event - removeFromCart",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "removeFromCart"
              }
            ]
          }
        ],
        "fingerprint": "1626710136462",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "46",
        "name": "Checkout Pages",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "pageview"
              }
            ]
          }
        ],
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Page URL}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "checkout"
              }
            ]
          }
        ],
        "fingerprint": "1626710136462"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "48",
        "name": "Search Page Trigger",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "pageView"
              }
            ]
          }
        ],
        "filter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Search Query}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "undefined"
              },
              {
                "type": "BOOLEAN",
                "key": "negate",
                "value": "true"
              }
            ]
          }
        ],
        "fingerprint": "1626710136463"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "49",
        "name": "Custom Event - All Pages except checkout",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "MATCH_REGEX",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "(^pageView$)"
              }
            ]
          }
        ],
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Page URL}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "checkout"
              },
              {
                "type": "BOOLEAN",
                "key": "negate",
                "value": "true"
              }
            ]
          }
        ],
        "fingerprint": "1626710136463"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "52",
        "name": "Custom Event - productImpression",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "productImpression"
              }
            ]
          }
        ],
        "fingerprint": "1626710136464",
        "parentFolderId": "3"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "53",
        "name": "History Listener",
        "type": "HISTORY_CHANGE",
        "fingerprint": "1626710136464"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "56",
        "name": "Custom Event - All Pages - Only Checkout Pages",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "(^profile$|^shipping$|^payment$)"
              }
            ]
          }
        ],
        "fingerprint": "1626710136465"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "60",
        "name": "Custom Event - promoView",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "promoView"
              }
            ]
          }
        ],
        "fingerprint": "1626710136467"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "67",
        "name": "Checkout Exclusion",
        "type": "PAGEVIEW",
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Page Path}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "checkout"
              }
            ]
          }
        ],
        "fingerprint": "1626710136469"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "72",
        "name": "Click",
        "type": "CLICK",
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Click Text}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "Add to cart"
              }
            ]
          }
        ],
        "fingerprint": "1626710136470"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "triggerId": "80",
        "name": "Test Event",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "MATCH_REGEX",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "Test Event"
              }
            ]
          }
        ],
        "fingerprint": "1652127265189"
      }
    ],
    "variable": [
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "6",
        "name": "Analytics Tracking ID",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "UA-121537381-1"
          }
        ],
        "fingerprint": "1626710162266",
        "parentFolderId": "5",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "8",
        "name": "Data Layer Variable - campaignName",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "campaignName"
          }
        ],
        "fingerprint": "1626710136450",
        "parentFolderId": "5",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "9",
        "name": "page",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "page"
          }
        ],
        "fingerprint": "1626710136451",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "11",
        "name": "Data Layer Variable - transactionTotal",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "transactionTotal"
          }
        ],
        "fingerprint": "1626710136451",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "12",
        "name": "Data Layer Variable - currency",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "currency"
          }
        ],
        "fingerprint": "1626710136452",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "13",
        "name": "Data Layer Variable - transactionId",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "transactionId"
          }
        ],
        "fingerprint": "1626710136452",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "17",
        "name": "Random number",
        "type": "r",
        "fingerprint": "1626710136453"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "19",
        "name": "Checkout Step",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.checkout.actionField.step"
          }
        ],
        "fingerprint": "1626710136454",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "20",
        "name": "PageName by step",
        "type": "smm",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "input",
            "value": "{{Checkout Step}}"
          },
          {
            "type": "LIST",
            "key": "map",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "1"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/cart"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "2"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/login-checkout"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "3"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/profile-checkout"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "4"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/shipping"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "5"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "/payment"
                  }
                ]
              }
            ]
          }
        ],
        "fingerprint": "1626710136454",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "23",
        "name": "Data Layer Variable - internalCampaignPart",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "internalCampaignPart"
          }
        ],
        "fingerprint": "1626710136455",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "25",
        "name": "Data Layer Variable - campaignSource",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "campaignSource"
          }
        ],
        "fingerprint": "1626710136456",
        "parentFolderId": "5",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "26",
        "name": "Data Layer Variable - campaignMedium",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "campaignMedium"
          }
        ],
        "fingerprint": "1626710136456",
        "parentFolderId": "5",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "27",
        "name": "Google Analytics - Checkout and Order Placed",
        "type": "gas",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "cookieDomain",
            "value": "auto"
          },
          {
            "type": "BOOLEAN",
            "key": "useEcommerceDataLayer",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "ecommerceMacroData",
            "value": "{{ecommerceV2}}"
          },
          {
            "type": "BOOLEAN",
            "key": "doubleClick",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "setTrackerName",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "useDebugVersion",
            "value": "false"
          },
          {
            "type": "LIST",
            "key": "fieldsToSet",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "location"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{Original Location}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "referrer"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{Original Referrer}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "BOOLEAN",
            "key": "useHashAutoLink",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "decorateFormsAutoLink",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableLinkId",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableEcommerce",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "trackingId",
            "value": "{{Analytics Tracking ID}}"
          }
        ],
        "fingerprint": "1642018613622",
        "parentFolderId": "5"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "29",
        "name": "Customer Email",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "visitorContactInfo.0"
          }
        ],
        "fingerprint": "1626710136457",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "37",
        "name": "Data Layer Variable - internalCampaignName",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "internalCampaignName"
          }
        ],
        "fingerprint": "1626710136460",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "39",
        "name": "Google Analytics",
        "type": "gas",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "cookieDomain",
            "value": "auto"
          },
          {
            "type": "BOOLEAN",
            "key": "useEcommerceDataLayer",
            "value": "true"
          },
          {
            "type": "BOOLEAN",
            "key": "doubleClick",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "setTrackerName",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "useDebugVersion",
            "value": "false"
          },
          {
            "type": "LIST",
            "key": "fieldsToSet",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "location"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{Original Location}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "referrer"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{Original Referrer}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "fieldName",
                    "value": "userId"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{Data Layer Variable - userId}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "BOOLEAN",
            "key": "useHashAutoLink",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "decorateFormsAutoLink",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableLinkId",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableEcommerce",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "trackingId",
            "value": "{{Analytics Tracking ID}}"
          }
        ],
        "fingerprint": "1643315037558",
        "parentFolderId": "5"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "43",
        "name": "AddToCart ID",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.add.products.0.id"
          }
        ],
        "fingerprint": "1626710136461",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "47",
        "name": "Search Query",
        "type": "u",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "component",
            "value": "QUERY"
          },
          {
            "type": "TEMPLATE",
            "key": "queryKey",
            "value": "_q"
          }
        ],
        "fingerprint": "1626710136463",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "50",
        "name": "title",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "title"
          }
        ],
        "fingerprint": "1626710136463",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "57",
        "name": "VTEX Transaction Total",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "1"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "transactionTotal"
          }
        ],
        "fingerprint": "1626710136465",
        "parentFolderId": "5",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "58",
        "name": "PageTitle by step",
        "type": "smm",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "input",
            "value": "{{Checkout Step}}"
          },
          {
            "type": "LIST",
            "key": "map",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "1"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "Cart"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "2"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "Login and email checkout"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "3"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "Profile entry"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "4"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "Shipping"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "5"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "Payment"
                  }
                ]
              }
            ]
          }
        ],
        "fingerprint": "1626710136466",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "62",
        "name": "VTEX transactionID",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "1"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "transactionId"
          }
        ],
        "fingerprint": "1626710136467",
        "parentFolderId": "5",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "66",
        "name": "Data Layer Variable - userId",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "userId"
          }
        ],
        "fingerprint": "1626710136468",
        "parentFolderId": "5",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "74",
        "name": "ecommerceV2",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerceV2"
          }
        ],
        "fingerprint": "1626966783115",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "77",
        "name": "Original Location",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "defaultValue",
            "value": "{{Page URL}}"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "originalLocation"
          }
        ],
        "fingerprint": "1627306695077",
        "formatValue": {}
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "variableId": "78",
        "name": "Original Referrer",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "defaultValue",
            "value": "{{Referrer}}"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "originalReferrer"
          }
        ],
        "fingerprint": "1636570005483",
        "formatValue": {}
      }
    ],
    "folder": [
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "folderId": "3",
        "name": "VTEX Triggers",
        "fingerprint": "1626710136448"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "folderId": "5",
        "name": "VTEX Variables",
        "fingerprint": "1626710136449"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "folderId": "24",
        "name": "VTEX Tags",
        "fingerprint": "1626710136455"
      }
    ],
    "builtInVariable": [
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "type": "PAGE_URL",
        "name": "Page URL"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "type": "PAGE_HOSTNAME",
        "name": "Page Hostname"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "type": "PAGE_PATH",
        "name": "Page Path"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "type": "REFERRER",
        "name": "Referrer"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "type": "EVENT",
        "name": "Event"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "type": "CLICK_CLASSES",
        "name": "Click Classes"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "type": "CLICK_ID",
        "name": "Click ID"
      },
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "type": "CLICK_TEXT",
        "name": "Click Text"
      }
    ],
    "fingerprint": "1680047400569",
    "tagManagerUrl": "https://tagmanager.google.com/#/versions/accounts/6004415179/containers/48662484/versions/0?apiLink=version",
    "customTemplate": [
      {
        "accountId": "6004415179",
        "containerId": "48662484",
        "templateId": "75",
        "name": "Persist Campaign Data",
        "fingerprint": "1627306457762",
        "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_temp_public_id\",\n  \"version\": 1,\n  \"securityGroups\": [],\n  \"displayName\": \"Persist Campaign Data\",\n  \"categories\": [\n    \"ANALYTICS\",\n    \"UTILITY\"\n  ],\n  \"brand\": {\n    \"id\": \"github.com_gtm-templates-simo-ahava\",\n    \"displayName\": \"gtm-templates-simo-ahava\",\n    \"thumbnail\": \"data:image/png;base64,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\\u003d\\u003d\"\n  },\n  \"description\": \"This template preserves the landing page URL and referrer string in a browser cookie, and pushes the original location into \\u003ccode\\u003edataLayer\\u003c/code\\u003e.\",\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"storeInCookieOption\",\n    \"checkboxText\": \"Store campaign data in a browser cookie\",\n    \"simpleValueType\": true,\n    \"help\": \"Select this option to save the page URL in a browser cookie \\u003cstrong\\u003eif\\u003c/strong\\u003e it has campaign defining parameters (utm_*, gclid). The referrer string is also saved in a cookie \\u003cstrong\\u003eif\\u003c/strong\\u003e its hostname differs from the current one.\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"originalLocationOption\",\n    \"checkboxText\": \"Push original location in dataLayer\",\n    \"simpleValueType\": true,\n    \"help\": \"Select this option to push the current URL into \\u003ccode\\u003edataLayer\\u003c/code\\u003e. This is useful on single-page apps with \\u003ca href\\u003d\\\"https://www.simoahava.com/gtm-tips/fix-rogue-referral-problem-single-page-sites/\\\"\\u003erogue referral\\u003c/a\\u003e issues. To be effective, this tag should only fire on the initial page load and not on subsequent SPA page events.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"storeInCookie\",\n    \"displayName\": \"Store campaign data in a cookie\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"triggerParameters\",\n        \"displayName\": \"URL parameters that trigger the storage\",\n        \"simpleValueType\": true,\n        \"help\": \"Comma-separated list of parameters that trigger storage. If the URL has any one of these, then the browser cookie will be updated with the current URL.\",\n        \"defaultValue\": \"utm_source,utm_medium,utm_campaign,utm_term,utm_content,utm_id,gclid\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"urlCookieName\",\n        \"displayName\": \"Campaign URL cookie name\",\n        \"simpleValueType\": true,\n        \"help\": \"Cookie name where to save the URL with the campaign parameters. The cookie will be a \\u003cstrong\\u003esession cookie\\u003c/strong\\u003e written on the parent domain and root path. \\u003cstrong\\u003eIf you change the cookie name, remember to update the template permissions!\\u003c/strong\\u003e\",\n        \"defaultValue\": \"__gtm_campaign_url\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"referrerCookieName\",\n        \"displayName\": \"Referrer cookie name\",\n        \"simpleValueType\": true,\n        \"help\": \"Cookie name where to save the referrer string when the referrer hostname differs from the current hostname. The cookie will be a \\u003cstrong\\u003esession cookie\\u003c/strong\\u003e written on the parent domain and root path. \\u003cstrong\\u003eIf you change the cookie name, remember to update the template permissions!\\u003c/strong\\u003e\",\n        \"defaultValue\": \"__gtm_referrer\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"storeInCookieOption\",\n        \"paramValue\": true,\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"pushToDataLayer\",\n    \"displayName\": \"Data Layer options for original location\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dataLayerName\",\n        \"displayName\": \"Name of the dataLayer array\",\n        \"simpleValueType\": true,\n        \"defaultValue\": \"dataLayer\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dataLayerKey\",\n        \"displayName\": \"Key name in dataLayer for the original location\",\n        \"simpleValueType\": true,\n        \"defaultValue\": \"originalLocation\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"originalLocationOption\",\n        \"paramValue\": true,\n        \"type\": \"EQUALS\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst getUrl = require('getUrl');\nconst getReferrerUrl = require('getReferrerUrl');\nconst createQueue = require('createQueue');\nconst setCookie = require('setCookie');\nconst queryPermission = require('queryPermission');\nconst log = require('logToConsole');\n\nlet fail = false;\n\nif (data.storeInCookieOption) {\n  // Check if URL has any of the params listed\n  const paramsToFind = data.triggerParameters.split(',');\n  const queryString = getUrl('query');\n  const queryParams = queryString.length ? queryString.split('&') : [];\n  if (queryParams.filter(pair => paramsToFind.indexOf(pair.split('=')[0]) > -1).length) {\n    if (queryPermission('set_cookies', data.urlCookieName)) {\n      setCookie(data.urlCookieName, getUrl(), {\n        domain: 'auto',\n        path: '/'\n      });\n    } else {\n      log('Invalid permissions for writing ' + data.urlCookieName + ' cookie!');\n      fail = true;\n    }\n  }\n  \n  // Check if referrer host does not contain current hostname\n  const referrerHost = getReferrerUrl('host');\n  if (referrerHost.indexOf(getUrl('host')) === -1 && referrerHost !== '') {\n    if (queryPermission('set_cookies', data.referrerCookieName)) {\n      setCookie(data.referrerCookieName, getReferrerUrl(), {\n        domain: 'auto',\n        path: '/'\n      });\n    } else {\n      log('Invalid permissions for writing ' + data.referrerCookieName + ' cookie!');\n      fail = true;\n    }\n  }\n}\n\nif (data.originalLocationOption) {\n  // Push the current URL into dataLayer with the given key\n  if (queryPermission('access_globals', 'readwrite', data.dataLayerName)) {\n    const dataLayerPush = createQueue(data.dataLayerName);\n    const obj = {event: 'originalLocation'};\n    obj[data.dataLayerKey] = getUrl();\n    dataLayerPush(obj);\n  } else {\n    log('Invalid permissions for creating ' + data.dataLayerName + ' queue!');\n    fail = true;\n  }\n}\n\nif (fail) { data.gtmOnFailure(); } else { data.gtmOnSuccess(); }\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"dataLayer\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_referrer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"set_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedCookies\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"__gtm_campaign_url\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"__gtm_referrer\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_url\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"debug\"\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Do not write cookies if no trigger parameters in URL and if referrer host\n    contains current host\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return '?invalidparam=true';\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? workingUrl.host : mockReferrer.full;\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasNotCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Write URL cookie if trigger parameters in URL\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return workingUrl.params;\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? workingUrl.host : mockReferrer.full;\n    });\n\n    mock('setCookie', (name, value, options) => {\n      if (name === mockStoreData.referrerCookieName) fail('Referrer cookie was set');\n      if (name !== mockStoreData.urlCookieName) fail('Cookie name not set');\n      if (value !== workingUrl.full) fail('Cookie set with wrong URL');\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasCalled();\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Fail if invalid permissions to write URL cookie\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return workingUrl.params;\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? workingUrl.host : mockReferrer.full;\n    });\n\n    mock('queryPermission', (permission, cookieName) => {\n      if (cookieName === mockStoreData.urlCookieName) return false;\n      if (cookieName === mockStoreData.referrerCookieName) fail('Query permission called for referrer cookie');\n    });\n\n    mock('logToConsole', false);\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Write referrer cookie if referrer host does not contain current host\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return '?invalidparam=true';\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? mockReferrer.host : mockReferrer.full;\n    });\n\n    mock('setCookie', (name, value, options) => {\n      if (name !== mockStoreData.referrerCookieName) fail('Cookie name not set');\n      if (name == mockStoreData.urlCookieName) fail('URL cookie set');\n      if (value !== mockReferrer.full) fail('Cookie set with wrong URL');\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasCalled();\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Fail if invalid permissions to write referrer cookie\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return '?invalidparams=true';\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? mockReferrer.host : mockReferrer.full;\n    });\n\n    mock('queryPermission', (permission, cookieName) => {\n      if (cookieName === mockStoreData.urlCookieName) fail('Query permission called for URL cookie');\n      if (cookieName === mockStoreData.referrerCookieName) return false;\n    });\n\n    mock('logToConsole', false);\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Push original location to dataLayer\n  code: |-\n    mock('getUrl', workingUrl.full);\n\n    mock('createQueue', name => {\n      if (name !== mockOriginalData.dataLayerName) fail('Tried to create queue with invalid name');\n      return (obj) => {\n        if (obj.event !== 'originalLocation') fail('Tried to push invalid event name');\n        if (obj[mockOriginalData.dataLayerKey] !== workingUrl.full) fail('Tried to push invalid URL');\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockOriginalData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasNotCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('createQueue').wasCalled();\n\n    assertApi('gtmOnFailure').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Fail if invalid permissions to write to dataLayer\n  code: |-\n    mock('queryPermission', (permission, cookieName) => {\n      if (permission === 'set_cookies') fail('Permission call for set_cookies made');\n      return false;\n    });\n\n    mock('logToConsole', false);\n\n    // Call runCode to run the template's code.\n    runCode(mockOriginalData);\n\n    assertApi('getUrl').wasNotCalled();\n    assertApi('getReferrerUrl').wasNotCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\nsetup: \"const mockStoreData = {\n  storeInCookieOption: true,\n  triggerParameters:\\\n  \\ 'utm_source,utm_medium,utm_campaign,utm_term,utm_content,utm_id,gclid',\n  urlCookieName:\\\n  \\ '__gtm_campaign_url',\n  referrerCookieName: '__gtm_referrer'\n};\n\nconst mockOriginalData\\\n  \\ = {\n  originalLocationOption: true,\n  dataLayerName: 'dataLayer',\n  dataLayerKey:\\\n  \\ 'originalLocation'\n};\n  \nconst workingUrl = {\n  params: '?utm_source=test&utm_medium=test',\n\\\n  \\  host: 'www.example.com',\n  full: 'https://www.example.com/path/?utm_source=test&utm_medium=test#home'\n\\\n  };\n\nconst mockReferrer = {\n  host: 'www.otherdomain.com',\n  full: 'https://www.otherdomain.com/path/'\n\\\n  };\"\n\n\n___NOTES___\n\nCreated on 30/11/2019, 11:26:05\n\n\n",
        "galleryReference": {
          "host": "github.com",
          "owner": "gtm-templates-simo-ahava",
          "repository": "persist-campaign-data",
          "version": "65d7ef3fae4bde0ad4d829506bb85e5771922925",
          "signature": "23dc5626da5910d43124815c0f6fb6907467673e697f80738b7727ce67bf3e4e"
        }
      }
    ]
  }
}
